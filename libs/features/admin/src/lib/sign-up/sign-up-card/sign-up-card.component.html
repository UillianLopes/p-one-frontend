<form [formGroup]="form">
  <p-one-card
    class="text-black"
    *ngIf="isUserCreated$ | async; else signUpTemplate"
  >
    <h4>
      <i class="bi bi-check-circle-fill text-success"></i>
      {{ '@PONE.LIBS.ADMIN.SIGN_UP.USER_CREATED_WITH_SUCCESS' | translate }}
      <a (click)="signIn()" class="link">{{
        '@PONE.LIBS.ADMIN.SIGN_UP.CLICK_HERE' | translate
      }}</a>
      {{ '@PONE.LIBS.ADMIN.SIGN_UP.TO_SIGN_IN' | translate }}
    </h4>
  </p-one-card>
</form>

<ng-template #signUpTemplate>
  <p-one-card
    [formGroup]="form"
    class="text-black"
    [isLoading]="isSignUpLoading$ | async"
  >
    <ng-container pOneCardHeader>
      <h3>
        {{ '@PONE.LIBS.ADMIN.SIGN_UP.WANT_TO_REGISTER' | translate }}
      </h3>
    </ng-container>

    <ng-container pOneCardTitle>
      {{ '@PONE.LIBS.ADMIN.SIGN_UP.PLEASE_FILL_THE_FORM_BELOW' | translate }}
    </ng-container>
    <p-one-form-field>
      <label>{{
        '@PONE.LIBS.ADMIN.SIGN_UP.FIELDS.FULL_NAME.LABEL' | translate
      }}</label>
      <input
        pOneInput
        [placeholder]="
          '@PONE.LIBS.ADMIN.SIGN_UP.FIELDS.FULL_NAME.PLACEHOLDER' | translate
        "
        formControlName="name"
        autocomplete="none"
      />
    </p-one-form-field>
    <p-one-form-field>
      <label>{{
        '@PONE.LIBS.ADMIN.SIGN_UP.FIELDS.EMAIL.LABEL' | translate
      }}</label>
      <input
        pOneInput
        [placeholder]="
          '@PONE.LIBS.ADMIN.SIGN_UP.FIELDS.EMAIL.PLACEHOLDER' | translate
        "
        formControlName="email"
        autocomplete="none"
      />
    </p-one-form-field>

    <div class="row">
      <p-one-form-field class="col-lg-6 col-sm-12">
        <label>{{
          '@PONE.LIBS.ADMIN.SIGN_UP.FIELDS.PASSWORD.LABEL' | translate
        }}</label>
        <input
          pOneInput
          type="password"
          autocomplete="none"
          [placeholder]="
            '@PONE.LIBS.ADMIN.SIGN_UP.FIELDS.PASSWORD.PLACEHOLDER' | translate
          "
          formControlName="password"
        />
      </p-one-form-field>
      <p-one-form-field class="col-lg-6 col-sm-12">
        <label>{{
          '@PONE.LIBS.ADMIN.SIGN_UP.FIELDS.PASSWORD_CONFIRMATION.LABEL'
            | translate
        }}</label>
        <input
          pOneInput
          [placeholder]="
            '@PONE.LIBS.ADMIN.SIGN_UP.FIELDS.PASSWORD_CONFIRMATION.PLACEHOLDER'
              | translate
          "
          autocomplete="none"
          type="password"
          formControlName="passwordConfirmation"
        />
      </p-one-form-field>
    </div>

    <section pOneCardFooter pOneFlexRow gap="12px" justification="flex-end">
      <button class="btn btn-secondary" routerLink="/landing">
        {{ '@PONE.LIBS.ADMIN.SIGN_UP.BUTTONS.CANCEL' | translate }}
      </button>
      <button class="btn btn-primary" (click)="signUp()">
        {{ '@PONE.LIBS.ADMIN.SIGN_UP.BUTTONS.CREATE_USER' | translate }}
      </button>
    </section>
  </p-one-card>
</ng-template>
